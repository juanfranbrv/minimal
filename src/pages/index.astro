---
import Welcome from '../components/Welcome.astro';
import Layout from '../layouts/Layout.astro';

// Welcome to Astro! Wondering what to do next? Check out the Astro documentation at https://docs.astro.build
// Don't want to use any of this? Delete everything in this file, the `assets`, `components`, and `layouts` directories, and start fresh.
---

<Layout>
	<main class="max-w-2xl mx-auto p-4">
	  <form 
		hx-get="https://backend-minimal-nu.vercel.app/llm"
		hx-target="#response"
		hx-trigger="submit"
		hx-indicator="#loading"
		class="space-y-4"
	  >
		<div>
		  <label for="pregunta" class="block text-lg font-medium text-gray-700 mb-2">
			Escribe tu pregunta:
		  </label>
		  <input
			type="text"
			id="pregunta"
			name="pregunta"
			required
			class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
			placeholder="¿Cómo puedo ayudarte hoy?"
		  />
		</div>
		
		<button
		  type="submit"
		  class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors"
		>
		  Obtener respuesta
		</button>
	  </form>
  
	  <!-- Loading indicator -->
	  <div id="loading" class="my-4 hidden">
		<div class="flex items-center justify-center space-x-2">
		  <div class="w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"></div>
		  <span class="text-gray-600">Procesando tu pregunta...</span>
		</div>
	  </div>
  
	  <!-- Response container -->
	  Respuesta aquí:<div id="response" class="mt-6 p-4 bg-gray-50 rounded-lg"></div>
	</main>

  </Layout>
